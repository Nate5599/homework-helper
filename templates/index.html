<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Homework Helper</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <script defer src="{{ url_for('static', filename='app.js') }}"></script>
</head>
<body class="app-body">

  <div class="app-shell">

    <!-- ============ SIDEBAR ============ -->
    <aside class="sidebar">
      <a class="brand" href="/">
        <img src="{{ avatar_path }}" class="brand-avatar" alt="avatar" />
        <div class="brand-meta">
          <span class="brand-title">Homework Helper</span>
          <span class="brand-sub">study smarter</span>
        </div>
      </a>

      <nav class="side-tabs" id="sideTabs">
        <button class="side-tab active" data-target="math">
          <img src="{{ url_for('static', filename='images/math_solver.png') }}" class="icon" alt="">
          <span>Math Solver</span>
        </button>
        <button class="side-tab" data-target="flashcards">
          <img src="{{ url_for('static', filename='images/flashcards.png') }}" class="icon" alt="">
          <span>Flashcards</span>
        </button>
        <button class="side-tab" data-target="planner">
          <img src="{{ url_for('static', filename='images/planner.png') }}" class="icon" alt="">
          <span>Planner</span>
        </button>
        <button class="side-tab" data-target="stepbystep">
          <img src="{{ url_for('static', filename='images/stepbystep.png') }}" class="icon" alt="">
          <span>Step-by-Step</span>
        </button>
        <button class="side-tab" data-target="history">
          <img src="{{ url_for('static', filename='images/history.png') }}" class="icon" alt="">
          <span>History</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <a class="link" href="/terms">Terms</a><span>·</span>
        <a class="link" href="/privacy">Privacy</a>
        <a class="logout" href="/logout">Logout</a>
      </div>
    </aside>

    <!-- ============ MAIN ============ -->
    <main class="main">

      <header class="topbar">
        <h1 class="app-title">Homework Helper</h1>
        <a class="user-chip" href="/settings" title="Profile & Settings">
          <img src="{{ avatar_path }}" alt="avatar" />
          <div class="meta">
            <div class="name">{{ display_name }}</div>
            <div class="handle">{{ username }}</div>
          </div>
        </a>
      </header>

      <div class="toolbar">
        <button id="download-pdf" class="btn btn-ghost">Download current tab as PDF</button>
      </div>

      <!-- ============ MATH ============ -->
      <section id="panel-math" class="panel active">
        <div class="panel-head">
          <h2>Math Problem Solver</h2>
          <p class="sub">Type a problem or upload a picture</p>
        </div>

        <div class="card">
          <textarea id="math-question" class="input textarea" placeholder="e.g., Solve 2x + 5 = 17"></textarea>
          <div class="row">
            <input type="file" id="math-image" accept="image/*" />
            <button id="math-submit" class="btn btn-primary">Solve</button>
          </div>
        </div>

        <div id="math-answer" class="answer printable"></div>
      </section>

      <!-- ============ FLASHCARDS ============ -->
      <section id="panel-flashcards" class="panel">
        <div class="panel-head">
          <h2>Vocabulary Flashcards</h2>
          <p class="sub">Create, flip, and study</p>
        </div>

        <div class="card">
          <div class="row">
            <input id="fc-front" class="input" placeholder="Front (word)" />
            <input id="fc-back" class="input" placeholder="Back (definition)" />
            <button id="add-flashcard" class="btn btn-accent">Add</button>
          </div>
        </div>

        <div id="flashcard-container" class="flashgrid printable"></div>
      </section>

      <!-- ============ PLANNER ============ -->
      <section id="panel-planner" class="panel">
        <div class="panel-head">
          <h2>Study Planner / Calendar</h2>
          <p class="sub">Plan your week and track tasks</p>
        </div>

        <div class="card">
          <div class="row">
            <input id="event-title" class="input" placeholder="Event title" />
            <input id="event-date" class="input" type="date" />
            <button id="add-event" class="btn btn-primary">Add Event</button>
          </div>
        </div>

        <div class="calendar printable">
          <div class="cal-toolbar">
            <button id="prev-month" class="btn btn-ghost">◀</button>
            <div id="cal-title" class="cal-title"></div>
            <button id="next-month" class="btn btn-ghost">▶</button>
          </div>
          <div id="cal-grid" class="cal-grid"></div>
        </div>
      </section>

      <!-- ============ STEP BY STEP ============ -->
      <section id="panel-stepbystep" class="panel">
        <div class="panel-head">
          <h2>Step-by-Step Explanation</h2>
          <p class="sub">Ask any question and get a breakdown</p>
        </div>

        <div class="card">
          <textarea id="step-question" class="input textarea" placeholder="Ask anything you want explained step-by-step"></textarea>
          <div class="row">
            <button id="step-submit" class="btn btn-primary">Get Steps</button>
          </div>
        </div>

        <div id="step-answer" class="answer printable"></div>
      </section>

      <!-- ============ HISTORY ============ -->
      <section id="panel-history" class="panel">
        <div class="panel-head">
          <h2>Past Questions & Answers</h2>
          <p class="sub">Revisit what you asked</p>
        </div>
        <div id="history-container" class="history printable"></div>
      </section>

    </main>
  </div>

</body>
</html>
