/* =========================
   THEME TOKENS
========================= */
:root{
  --bg:#f6fafb;
  --ink:#0f172a;
  --muted:#667085;
  --card:#ffffff;
  --line:#e5e7eb;
  --blue:#2563eb;
  --green:#10b981;
  --green-600:#059669;
  --shadow:0 10px 30px rgba(2,6,23,.08);

  /* nebula purple for main app cards */
  --nebula1:#2a225f;
  --nebula2:#3a2b84;
  --nebulaBorder:rgba(255,255,255,.14);
  --nebulaText:#f5f7ff;
}

/* =========================
   BASE
========================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  color:var(--ink);
  background:
    radial-gradient(900px 500px at -15% -10%, #dbeafe 0%, rgba(219,234,254,0) 60%),
    radial-gradient(900px 500px at 115% 120%, #d1fae5 0%, rgba(209,250,229,0) 60%),
    var(--bg);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
img{max-width:100%;display:block}
a{color:#2563eb;text-decoration:none}
a:hover{text-decoration:underline}
.w-100{width:100%}
.center{display:flex;align-items:center;justify-content:center}
.mt-2{margin-top:.5rem}
.mt-3{margin-top:1rem}

/* =========================
   BUTTONS
========================= */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
  padding:.8rem 1rem;border-radius:.7rem;border:1px solid transparent;
  font-weight:700;cursor:pointer;transition:background .2s ease, transform .06s ease, box-shadow .2s ease;
}
.btn:active{transform:translateY(1px)}
.btn-primary{background:var(--green);color:#fff;box-shadow:0 10px 24px rgba(16,185,129,.22)}
.btn-primary:hover{background:var(--green-600)}
.btn-ghost{background:#fff;border-color:var(--line);color:var(--ink);box-shadow:var(--shadow)}
.btn-ghost:hover{background:#f8fafc}

/* Social buttons */
.social-login{display:grid;gap:.5rem;margin-top:1rem}
.btn.social{font-weight:700}
.btn.social.google{background:#db4437;color:#fff}
.btn.social.microsoft{background:#2b579a;color:#fff}
.btn.social.github{background:#111;color:#fff}
.btn.social.apple{background:#000;color:#fff}

/* =========================
   FORMS
========================= */
.form{display:grid;gap:.7rem;margin-top:.6rem}
.form-label{font-size:.95rem;color:#374151;text-align:left}
.input{
  width:100%;padding:.9rem 1rem;border:1px solid var(--line);border-radius:.7rem;background:#fff;
  font-size:.95rem;color:var(--ink);transition:border-color .2s ease, box-shadow .2s ease;
}
.input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px rgba(37,99,235,.18)}
.checkbox{display:flex;gap:.6rem;align-items:flex-start;text-align:left;font-size:.9rem;color:#374151}
.alert{padding:.75rem 1rem;border-radius:.6rem;border:1px solid transparent;margin:.5rem 0 1rem;font-size:.95rem}
.alert.error{background:#fef2f2;color:#991b1b;border-color:#fecaca}

/* small divider */
.hr{display:grid;place-items:center;margin:1rem 0;grid-template-columns:1fr auto 1fr;gap:.75rem;color:#6b7280}
.hr::before,.hr::after{content:"";height:1px;background:#e5e7eb;width:100%}

/* =========================
   AUTH PAGES (GREEN, old look)
========================= */
.auth-body{
  min-height:100vh;
  background:
    radial-gradient(1200px 600px at -10% -10%, #e0fbea 0%, rgba(219, 255, 235,0) 60%),
    radial-gradient(1000px 600px at 110% 120%, #e0e7ff 0%, rgba(224,231,255,0) 60%),
    #f7f7fb;
  display:flex;align-items:center;justify-content:center;
}
.auth-wrap{width:min(92vw,440px);padding:1.2rem}
.auth-card{
  background:#fff;border-radius:1rem;box-shadow:0 10px 30px rgba(0,0,0,.08),0 2px 8px rgba(0,0,0,.04);
  padding:1.4rem 1.2rem 1.6rem;
}
.brand{text-align:center;margin-bottom:.6rem}
.brand-logo{width:64px;height:64px;border-radius:50%;margin:0 auto .6rem;border:2px solid #dcfce7}
.brand-title{margin:0;font-size:1.5rem;letter-spacing:.2px}
.brand-sub{margin:.25rem 0 0;color:#6b7280;font-size:.95rem}

/* =========================
   APP SHELL (sidebar + content)
========================= */
.app-shell{display:grid;grid-template-columns:280px 1fr;min-height:100vh}
@media (max-width:880px){.app-shell{grid-template-columns:1fr}}

.sidebar{
  background:linear-gradient(160deg,#0b3b62 0%, #064e3b 100%);
  color:#eaf2ff;padding:1rem .9rem;display:flex;flex-direction:column;gap:.75rem;
}
.brand-link{display:flex;align-items:center;gap:.75rem;text-decoration:none;color:inherit;padding:.5rem;border-radius:.75rem;background:rgba(255,255,255,.06)}
.brand-avatar{width:42px;height:42px;border-radius:50%;border:2px solid rgba(255,255,255,.25);object-fit:cover}
.brand-meta{display:grid;line-height:1.1}
.brand-title-side{font-weight:700}
.brand-sub-side{font-size:.85rem;opacity:.9}

.side-tabs{display:grid;gap:.25rem;margin-top:.25rem}
.side-tab{
  display:flex;gap:.6rem;align-items:center;padding:.7rem .8rem;border-radius:.65rem;background:transparent;
  color:#dbeafe;border:1px solid transparent;cursor:pointer;transition:background .18s ease,color .18s ease,transform .06s ease;
}
.side-tab:hover{background:rgba(255,255,255,.07);color:#fff}
.side-tab:active{transform:translateY(1px)}
.side-tab.active{background:rgba(255,255,255,.12);color:#fff;border-color:rgba(255,255,255,.18)}
.icon{width:20px;height:20px;opacity:.95}

.sidebar-footer{margin-top:auto;display:flex;gap:.4rem;align-items:center;flex-wrap:wrap;opacity:.9}
.sidebar-footer .link{color:#eaf2ff}
.logout{margin-left:auto;color:#fecaca}

.main{padding:1.2rem 1.4rem 2rem}
.topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}
.app-title{margin:0;font-size:1.5rem}
.user-chip{
  display:flex;align-items:center;gap:.6rem;text-decoration:none;color:inherit;
  background:var(--card);border:1px solid var(--line);border-radius:.75rem;padding:.45rem .6rem;box-shadow:var(--shadow);
}
.user-chip img{width:36px;height:36px;border-radius:50%;object-fit:cover}
.user-chip .meta{display:grid;line-height:1.05}
.user-chip .name{font-weight:600}
.user-chip .handle{font-size:.84rem;color:var(--muted)}

.toolbar{display:flex;align-items:center;gap:.6rem;margin-bottom:1rem}

/* =========================
   CARDS / PANELS
========================= */
.card{
  background:linear-gradient(180deg,var(--nebula1) 0%, var(--nebula2) 100%);
  color:var(--nebulaText);
  border:1px solid var(--nebulaBorder);
  border-radius:.9rem;padding:1rem;box-shadow:var(--shadow);
}
.input, input[type="date"]{background:#ffffff;color:#0f172a;border:1px solid #e5e7eb}

/* answer & history */
.answer{margin-top:1rem}
.history{display:grid;gap:.6rem}
.history .item{
  background:linear-gradient(180deg,var(--nebula1) 0%, var(--nebula2) 100%);
  color:var(--nebulaText);border:1px solid var(--nebulaBorder);border-radius:.75rem;padding:.8rem
}

/* =========================
   FLASHCARDS
========================= */
.flashgrid{display:grid;gap:1rem;grid-template-columns:repeat(4,1fr)}
@media (max-width:1100px){.flashgrid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:820px){.flashgrid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:560px){.flashgrid{grid-template-columns:1fr}}
.flashcard{
  position:relative;min-height:160px;color:#fff;border-radius:.9rem;display:grid;place-items:center;cursor:pointer;overflow:hidden;
  transform-style:preserve-3d;perspective:1000px;background:#0b3b62;box-shadow:var(--shadow)
}
.flashcard .face{position:absolute;inset:0;display:grid;place-items:center;padding:1rem;backface-visibility:hidden}
.flashcard .front{background:#0b3b62}
.flashcard .back{background:#10b981;transform:rotateY(180deg)}
.flashcard.flipped .front{transform:rotateY(180deg)}
.flashcard.flipped .back{transform:rotateY(0)}

/* =========================
   CALENDAR
========================= */
.calendar{
  background:linear-gradient(180deg,var(--nebula1) 0%, var(--nebula2) 100%);
  color:var(--nebulaText);border:1px solid var(--nebulaBorder);border-radius:.9rem;overflow:hidden;box-shadow:var(--shadow)
}
.cal-toolbar{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid var(--nebulaBorder)}
.cal-title{font-weight:700}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#e5e7eb}
.cal-grid .cell{background:#fff;min-height:92px;padding:.5rem;display:flex;flex-direction:column;gap:.25rem}
.cal-grid .date{font-weight:600;font-size:.9rem;color:#334155}
.cal-grid .event{background:#dbeafe;color:#1e40af;border-radius:.5rem;padding:.25rem .4rem;font-size:.8rem}

/* =========================
   RESPONSIVE
========================= */
@media (max-width:980px){
  .app-shell{grid-template-columns:84px 1fr}
  .brand-meta{display:none}
  .side-tab span{display:none}
}
@media (max-width:720px){
  .app-shell{grid-template-columns:1fr}
  .sidebar{position:sticky;top:0;z-index:10}
}
